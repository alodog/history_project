<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!--    <link rel="stylesheet" href="css/style.css">-->
    <title>Профиль</title>
</head>
<body>
    <header th:insert="blocks/header.html :: header"/>

    <main class="container my-5">
        <form th:method="POST" th:action="@{/profile}" th:object="${user}">

            <p th:if="${message}" th:text="${message}">TEXT</p>
            <p th:if="${message2}" th:text="${message2}">TEXT</p>
            <div class="mb-3 ms-3 col-sm-6 d-flex justify-content-center">
                <label for="username" class="form-label col-sm-2 align-self-center"> Username:  </label>
                <input type="text" class="form-control ms-1" th:field="*{username}" id="username" th:value="*{username}" required>
                <div th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
            </div>

            <div class="mb-3 ms-3 col-sm-6 d-flex justify-content-center">
                <label for="firstName" class="form-label col-sm-2 align-self-center"> Имя:  </label>
                <input type="text" class="form-control ms-1" th:field="*{userInfo.firstName}" id="firstName" th:value="*{userInfo.firstName}" required>
                <div th:if="${#fields.hasErrors('userInfo.firstName')}" th:errors="*{userInfo.firstName}"></div>
            </div>

            <div class="mb-3 ms-3 col-sm-6 d-flex justify-content-center">
                <label for="surname" class="form-label col-sm-2 align-self-center"> Фамилия:  </label>
                <input type="text" class="form-control ms-1" th:field="*{userInfo.surname}" id="surname" th:value="*{userInfo.firstName}" required>
                <div th:if="${#fields.hasErrors('userInfo.surname')}" th:errors="*{userInfo.surname}"></div>
            </div>

            <div class="mb-3 ms-3 col-sm-6 d-flex ">
                <label for="surname" class="text form-label col-sm-3">  Результат тестирования:  </label>
                <div class="text align-self-center" th:text="*{result}"></div>
            </div>

            <input type="hidden" th:value="*{result}" th:field="*{result}" name="result">
            <input type="hidden" th:value="${user.password}" th:field="${user.password}" name="password">

            <div class="d-flex ms-5">
                <input type="submit" value="Сохранить изменения" class="btn btn-primary"/>
            </div>


        </form>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>